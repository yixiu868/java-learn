# NIO

## Selector原理

一个Selector实例可以同时检查一组信道的IO状态。如果使用传统的方式来处理这么多客户端，使用的方法只能是循环地一个一个地去检查所有的客户端是否有IO操作，如果当前客户端有IO操作，则可能把当前客户端扔给一个线程池去处理；如果没有IO操作则继续进行下一个轮询，当所有的客户端都轮询过了又接着从头开始轮询。传统方法非常浪费资源。

Selector可以在内部同时管理多个IO，当一个信道有IO操作的时候，会通知Selector，Selector记住这个信道有IO操作，并且知道有何种操作，读、写或者新连接，所以使用Selector，返回结果只有两种，一种是0，在调用的时刻没有任何客户端需要IO操作，另一种是一组需要IO操作的客户端，这时你根本不需要再作检查。

需要创建一个Selector实例并将其注册到想要监控的信道上，然后调用选择器select()方法，该方法会阻塞等待，直到有一个或更多信道准备好了IO操作或者等待超时。